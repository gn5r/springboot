<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>トップページ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta charset="UTF-8" />
<link rel="stylesheet"
	href="webjars/bootstrap/4.3.1/css/bootstrap.min.css" />
<link href="/css/common.css" th:href="@{/css/common.css}"
	rel="stylesheet"></link>
<script type="text/javascript" src="/webjars/jquery/3.4.1/jquery.min.js"></script>
<script src="webjars/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</head>
<body>

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="collapse navbar-collapse">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item"><a class="btn btn-primary"
					th:href="@{/register}">Register</a></li>
			</ul>

			<ul class="navbar-nav">
				<li class="nav-item"><a class="btn btn-primary"
					th:href="@{/logout}">Logout</a></li>
			</ul>
		</div>
	</nav>

	<div class="container">
		<div class="row justify-content-center align-items-center"
			style="height: 100vh">
			<table class="table table-striped text-center">
				<thead class="thead-dark">
					<tr>
						<th>社員番号</th>
						<th>名前</th>
						<th>パスワード</th>
						<th>操作</th>
					</tr>
				</thead>

				<tbody>
					<tr class="info" th:if="${list}!=null" th:each="user:${list}">
						<td th:text="${user.id}">xx</td>
						<td th:text="${user.username}">xx</td>
						<td th:text="${user.password}">xx</td>
						<td><a th:href="@{/update/id={id}(id=${user.id})}" class="btn btn-info">編集</a>
							<a class="btn btn-info" id="deleteItem"
							th:href="@{/delete/{id}(id=${user.id})}" onclick="deleteItem();return false;">削除</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>

<script type="text/javascript" th:inline="javascript">
	function deleteItem(){
		var target = document.getElementById("deleteItem");

		if(confirm("削除しますか？")){
			target.submit();
		}else{
			return false;
		}
	}
</script>

</html>